id: azure
version: "0.1"
specVersion: "0.8"
name: "Azure get display name"
description: "Get Azure user display name. Use token propagation for authenticating Azure account"
start: getDisplayName
dataInputSchema: schemas/azure.json
extensions:
  - extensionid: workflow-output-schema
    outputSchema: schemas/workflow-output-schema.json
functions:
  - name: "getDisplayName"
    operation: "specs/azure.yaml#getProfile"
    type: rest
states:
  - name: getDisplayName
    type: operation
    actions:
      - name: getDisplayName
        functionRef:
          refName: getDisplayName
        actionDataFilter:
          toStateData: .azureProfile
    stateDataFilter:
      output: "{result: {message: .azureProfile.displayName}}"
    end: true
