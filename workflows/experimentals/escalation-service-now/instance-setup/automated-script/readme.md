Setup ServiceNow Instance with an automation script. 

## Prerequisite
* An available ServiceNow instance with admin credentials. 
* The script has been developed against ServiceNow Washington DC version of the instance.

## Shell Script Variables
* In a shell terminal set the following variables before invoking the script.
```shell
export SN_SERVER='https://<your instance>.service-now.com'
export AUTH_HEADER="Authorization: Basic <your auth value>"
export DEFAULT_PWD='<your default password>'
export CONTENT_TYPE='Content-Type: application/json'
```

## Execute ServiceNow Instance Setup Script
* Ensure that the provided `sn-instance-setup.sh` script on your developer machine has been granted execute permission.
* In a terminal window ensure your environment variables set earlier are available/visible.
* Execute the script.
```shell
./sn-instance-setup.sh
```
* Successful completion of the script should show messages like following, however the id values will be different for you.
```text
*** Requester User Sys Id: "a879ca9197b0c2102425b39fe153af6d"
*** Requester User associated to Admin role with Sys Id: "20794e5197b0c2102425b39fe153af59"
*** Approver User Sys Id: "7879ca9197b0c2102425b39fe153af74"
*** Approver Group Sys Id: "f4794e9197b0c2102425b39fe153af3f"
*** Associate approver_user role to approver user Sys Id: "cd794e9197b0c2102425b39fe153af46"
*** Assigned approver user to approver group with Sys Id: "c9794e9197b0c2102425b39fe153af69"
*** New Change Request Sys Id: "89794e9197b0c2102425b39fe153af4b"
*** Triggered change request with Sys Id: "89794e9197b0c2102425b39fe153af4b"
```

## Verify the script execution results on ServiceNow instance
Login to the ServiceNow instance and verify the `requester` user, `approver` user, `approver` group and a `change request` are created.

## Cleaning up
* The instance setup script execution also generates a `clear-data.sh` script, which you can use to clear the data created by instance setup script.
* Clean up the data generated by executing the clear data script, just ensure that the script has been given execute permission.
```shell
./clear-data.sh
```

## Issues?
* In case if you see empty or null values in the generated id's, most likely the curl commands to ServiceNow may have failed. Be sure to check the environment variables related to ServiceNow instance url and Auth header are still valid.
* You can also remove the `-s` switch corresponding to silent execution, from the `curl` command execution in the script and see what is the exact error.
